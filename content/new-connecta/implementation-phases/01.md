# Phase 01 - UX MVP

## Summary

Create the minimal architecture scaffolding and the required parts to provide an MVP:

::: info Milestone
**Configure the CU profiles, per user via New Cloud's interface**
:::

### Step by step

1. [Develop the Orchestrator for NewConnecta.](#step-1-develop-the-orchestrator-for-newconnecta)
2. [Enable the UC to manage its configurations via its dedicated API.](#step-2-cu-management-api)
3. [Provide a frontend API interface through NewConnecta's Orchestrator.](#step-3-frontend-api-on-the-orchestrator)
4. [Integrate the UC API service within NewConnecta's Orchestrator and relay it to the frontend API.](#step-4-integrate-the-uc-api-service-within-newconnectas-orchestrator-and-relay-it-to-the-frontend-api)
5. [Design a comprehensive set of frontend components to manage the configurations of the UC service.](#step-5-design-a-comprehensive-set-of-frontend-components-to-manage-the-configurations-of-the-uc-service)

## Affected architectural blocks

```mermaid

<!--@include: ../architecture/map.md-->

style NEWCONNECTA_WORKER fill:#080,stroke:#333
style NEWCONNECTA_FEAPI fill:#080,stroke:#333
style NEWCONNECTA_DB fill:#080,stroke:#333
style F1_API fill:#080,stroke:#333
style NEWCLOUD_FE fill:#080,stroke:#333
linkStyle 1,2,4,5,6,12 stroke:#080

```

## Step 1: Develop the Orchestrator for NewConnecta.

A brand new project, along with its entire data model & database, to represent the entity of the new orchestrator.

This entity or application will soon be responsible for managing newly created recipes. Moreover, during the initial phase, it will be responsible of the relaying of the workers API's to the front-end.

It will use its local database, for which a data model has been developed and can be accessed at the provided reference, [here](../classmap.md) ('Orchestration' section)

#### Milestones:

1. Define the project/solution/repository strategy for Orchestrator and other NewConnecta pieces [**WIP**]
2. Create the project to expose the API
3. Define the DB storage strategy
4. Implement defined dataModel in the new DB

```mermaid

<!--@include: ../architecture/map.md-->
style NEWCONNECTA_WORKER fill:#080,stroke:#333
style NEWCONNECTA_DB fill:#080,stroke:#333
```

## Step 2: CU management API

Create and expose an API in the CU service that allows CRUD operations of his profiles (the objects that contain the multiple CU setups)

### Milestones:

1. **Create** a hosted **API** infrastructure in the current CU component
2. **Expose** this API. Define **networking** aspects regarding environments.
3. **Implement** each **CRUD** actions and define DTOs implemented in the APIs
4. **Implement** structure **validation** & business rules for the CRUD

```mermaid
<!--@include: ../architecture/map.md-->

style F1_API fill:#080,stroke:#333
linkStyle 5 stroke:#080

```

> _Make the worker use the API?_

## Step 3: Frontend API on the Orchestrator.

Bring up a new frontend API, exposed from the new [Orchestrator](../architecture/parts/orchestrator.md).

The API will, in the **future**, interact with the Orchestrator to fetch the recipes ([classMap, orchestration section](../classmap.md)), the cooks, as well as managing any workers available or involved, and their and setups.

In this phase, those models will be scoped to a minimal structure which can handle the MVP: A simple _recipe_, with just one _recipe_step_ corresponding to the **CU**.

The corresponding additional graphical meta information, will be also need to be generated, at least as a placeholder untill it is finally defined in [Step 5](#step-5-design-a-comprehensive-set-of-frontend-components-to-manage-the-configurations-of-the-uc-service)

### Milestones:

1. **Create** a hosted **API** infrastructure in the current CU component
2. **Expose** this API. Define **networking** aspects regarding environments.

```mermaid
<!--@include: ../architecture/map.md-->

style NEWCONNECTA_FEAPI fill:#080,stroke:#333
style NEWCONNECTA_WORKER fill:#880,stroke:#333
linkStyle 2 stroke:#080
linkStyle 1 stroke:#880

```

> _Does orchestrator talk to DB or to TasksAPI?_

## Step 4: Integrate the UC API service within NewConnecta's Orchestrator and relay it to the frontend API.

So, it will only handle the **CU** service, and perform the CRUD operations for it's profiles for the _recipe_ implementation, relaying the operations **API** exposed on [Step 2](#step-2-cu-management-api)

### Milestones:

1. **Implement** each **CRUD** actions and define DTOs implemented in the APIs
2. **Implement** structure **validation** & business rules for the CRUD

```mermaid
<!--@include: ../architecture/map.md-->

style NEWCONNECTA_FEAPI fill:#880,stroke:#333
style NEWCONNECTA_WORKER fill:#880,stroke:#333
linkStyle 6 stroke:#080
linkStyle 2 stroke:#880

```

## Step 5: Design a comprehensive set of frontend components to manage the configurations of the UC service.

### Milestones:

1. **Implement** each **CRUD** actions and define DTOs implemented in the APIs
2. **Implement** structure **validation** & business rules for the CRUD

```mermaid
<!--@include: ../architecture/map.md-->

style NEWCLOUD_FE fill:#080,stroke:#333
style NEWCONNECTA_FEAPI fill:#880,stroke:#333
linkStyle 12 stroke:#080
linkStyle 2 stroke:#880

```

> _Determine frontend and uServices frontend strategies:_
>
> - _MicroFrontend & Lazy Loadings_
>
> - _MonoRepo & Nx?_
>
> - _Pending NewCloud team review_
